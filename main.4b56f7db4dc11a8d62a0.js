define(["dojo/dom","dojo/dom-construct","dojo/on","esri/WebScene","esri/config","esri/core/Accessor","esri/core/accessorSupport/decorators","esri/renderers/UniqueValueRenderer","esri/symbols/LineSymbol3D","esri/symbols/LineSymbol3DLayer","esri/symbols/LabelSymbol3D","esri/layers/support/LabelClass","esri/symbols/TextSymbol3DLayer","esri/renderers/support/UniqueValueInfo","esri/views/SceneView","esri/layers/FeatureLayer","esri/widgets/NavigationToggle","esri/widgets/Zoom","esri/widgets/Compass","esri/rest/support/Query","esri/tasks/QueryTask","esri/widgets/ElevationProfile","esri/widgets/ElevationProfile/ElevationProfileLineGround"],function(e,t,n,i,r,a,o,s,l,c,u,d,f,p,h,m,v,g,y,b,w,S,x){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={scene:{websceneItemId:"d0580bb5df3840d384bda44b6ddeb54e"},data:{trailsServiceUrl:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/SwissNationalParkTrails/FeatureServer/0",trailAttributes:{name:"Name",id:"RouteId",difficulty:"Difficulty",walktime:"Hiketime",status:"Access",ascent:"Ascent",description:"Description"},filterOptions:{singleChoice:["difficulty","status"],range:["walktime","ascent"]}},colors:{defaultTrail:"#db5353",selectedTrail:"#f9a352"}}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t,n){e.exports=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7),n(8),n(9).request.useIdentity=!1;var i=n(10),r=n(13),a=n(14),o=n(15),s=n(30),l=n(32),c=n(36),u=n(49);"serviceWorker"in navigator&&u.register();var d=new i.default;r.default.init(d),new a.default(d),new s.default(d),new o.default(d),l.default.initTrails(d).then(function(){new c.default(d)})},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),s=n(12),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.displayLoading=!0,t.selectedTrailId=null,t.selectedTrail=null,t.filteredTrailIds=[],t.filters={},t.device=null,t.currentBasemapId=null,t.view=null,t.trails=null,t.online=!0,t}return i(t,e),t.prototype.setSelectedTrail=function(e){this.selectedTrailId=e,this.selectedTrail=this.trails.filter(function(t){return t.id===e})[0],this.selectedTrailId&&"detailPanel"!==this.visiblePanel&&(this.visiblePanel="detailPanel")},t.prototype.setFilteredTrailIds=function(e){this.filteredTrailIds=e,-1===this.filteredTrailIds.indexOf(this.selectedTrailId)&&(this.selectedTrailId=null)},t.prototype.setFilter=function(e,t){this.filters=r({},this.filters),this.filters[e]=t},a([s.property()],t.prototype,"displayLoading",void 0),a([s.property()],t.prototype,"selectedTrailId",void 0),a([s.property()],t.prototype,"selectedTrail",void 0),a([s.property()],t.prototype,"filteredTrailIds",void 0),a([s.property()],t.prototype,"filters",void 0),a([s.property()],t.prototype,"visiblePanel",void 0),a([s.property()],t.prototype,"device",void 0),a([s.property()],t.prototype,"currentBasemapId",void 0),a([s.property()],t.prototype,"view",void 0),a([s.property()],t.prototype,"trails",void 0),a([s.property()],t.prototype,"online",void 0),a([s.subclass()],t)}(o);t.default=l},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=window.matchMedia("(min-width: 601px)");function r(){return i.matches?"desktop":"mobilePortrait"}t.default={init:function(e){e.device=r(),i.addEventListener("change",function(){var t=r();e.device=t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){function e(e){var t=this;window.addEventListener("load",function(){function t(){e.online=!!navigator.onLine}window.addEventListener("online",t),window.addEventListener("offline",t)}),this.messageContainer=i.create("div",{},document.body),e.watch("online",function(e){console.log(e),e?t.createOnlineMessage():t.createOfflineMessage()})}return e.prototype.createOfflineMessage=function(){this.setMessage("You seem to be offline. This application has limited functionality.",!1)},e.prototype.createOnlineMessage=function(){this.setMessage("You are back online.",!0)},e.prototype.setMessage=function(e,t){var n=this;this.messageContainer.innerHTML=e,this.messageContainer.classList.add("connectionMessage"),t?(this.messageContainer.classList.add("online"),this.messageContainer.classList.remove("offline"),window.setTimeout(function(){n.messageContainer.innerHTML="",n.messageContainer.classList.remove("online","connectionMessage")},3e3)):(this.messageContainer.classList.remove("online"),this.messageContainer.classList.add("offline"))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(16),a=n(4),o=n(24),s=n(25),l=n(26),c=n(27),u=n(28);n(29);var d=function(){function e(e){var t=this;this.state=e,this.view=this.initView(),this.state.view=this.view,this.setViewPadding(),this.trailsLayer=this.initTrailsLayer(),this.view.when(function(){t.view.map.add(t.trailsLayer)}),this.view.on("click",function(e){t.onViewClick(e)}),window.view=this.view,e.watch("selectedTrailId",function(e,n){n&&t.unselectFeature(),e&&t.selectFeature(e)}),e.watch("filteredTrailIds",function(e){if(t.view.map instanceof a&&t.view.goTo(t.view.map.initialViewProperties.viewpoint),0===e.length)t.trailsLayer.definitionExpression="1=0";else{var n=e.map(function(e){return i.default.data.trailAttributes.id+" = "+e});t.trailsLayer.definitionExpression=n.join(" OR ")}}),e.watch("device",function(){t.setViewPadding()}),e.watch("currentBasemapId",function(e){t.setCurrentBasemap(e)})}return e.prototype.initView=function(){var e=new a({portalItem:{id:i.default.scene.websceneItemId}}),t=new o({container:"scenePanel",map:e,constraints:{tilt:{max:80,mode:"manual"}},qualityProfile:"high",environment:{lighting:{directShadowsEnabled:!0,ambientOcclusionEnabled:!0},atmosphereEnabled:!0,atmosphere:{quality:"high"},starsEnabled:!1},ui:{components:["attribution"]},popup:{dockEnabled:!1,collapsed:!0}}),n=new l({view:t}),r=new c({view:t}),s=new u({view:t});return t.ui.add([r,n,s],"top-right"),t},e.prototype.setViewPadding=function(){console.log(this.state.device),"mobilePortrait"===this.state.device?this.view.padding={top:30,left:0}:this.view.padding={top:30,left:350}},e.prototype.initTrailsLayer=function(){return new s({url:i.default.data.trailsServiceUrl,title:"Hiking trails",outFields:["*"],renderer:r.getTrailRenderer(),elevationInfo:{mode:"on-the-ground"},labelsVisible:!0,popupEnabled:!1,labelingInfo:r.getLabelingInfo({selection:null})})},e.prototype.setCurrentBasemap=function(e){this.view.map.layers.filter(function(e){return"Basemap"===e.title}).getItemAt(0).layers.filter(function(t){return t.id===e}).getItemAt(0).visible=!0},e.prototype.onViewClick=function(e){var t=this;this.state.online&&this.view.hitTest(e,{include:this.trailsLayer}).then(function(e){var n=e.results[0];n&&n.graphic?t.state.setSelectedTrail(n.graphic.attributes[i.default.data.trailAttributes.id]):t.state.setSelectedTrail(null)})},e.prototype.selectFeature=function(e){var t=this.trailsLayer.renderer.clone();t.uniqueValueInfos=r.getUniqueValueInfos({selection:e}),this.trailsLayer.renderer=t,this.trailsLayer.labelingInfo=r.getLabelingInfo({selection:e}),this.view.goTo({target:this.state.selectedTrail.geometry,tilt:60},{speedFactor:.5})},e.prototype.unselectFeature=function(){var e=this.trailsLayer.renderer.clone();e.uniqueValueInfos=[],this.trailsLayer.renderer=e,this.trailsLayer.labelingInfo=r.getLabelingInfo({selection:null})},e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(17),a=n(18),o=n(19),s=n(20),l=n(21),c=n(22),u=n(23);function d(e){var t=e.selection?i.default.colors.selectedTrail:i.default.colors.defaultTrail;return e.selection,new a({symbolLayers:[new o({material:{color:t},size:2})]})}function f(e){var t=e.selection?i.default.colors.selectedTrail:i.default.colors.defaultTrail,n=new l({symbol:new s({symbolLayers:[new c({material:{color:"white"},halo:{color:t,size:1},font:{family:"Open Sans Condensed",weight:"bold"},size:13})],verticalOffset:{screenLength:40,maxWorldLength:2e3,minWorldLength:500},callout:{type:"line",size:1,color:"white",border:{color:t}}}),labelPlacement:"above-center",labelExpressionInfo:{expression:"$feature."+i.default.data.trailAttributes.name}});return e.selection&&(n.where=i.default.data.trailAttributes.id+" = "+e.selection),n}t.getTrailRenderer=function(){return new r({field:i.default.data.trailAttributes.id,defaultSymbol:d({selection:null}),uniqueValueInfos:[]})},t.getUniqueValueInfos=function(e){if(e.selection)return[new u({value:e.selection,symbol:d(e)})]},t.getLabelingInfo=function(e){return e.selection?[f(e),f({})]:[f({})]},t.createLabelClass=f},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=d},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=y},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3);n(31);var a=function(e){var t=this;this.container=i.byId("starterPage"),this.state=e,e.watch("displayLoading",function(e){t.container.style.display=e?"table":"none"}),r(i.byId("showMap"),"click",function(){e.displayLoading=!1})};t.default=a},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(33),a=n(34),o=n(35),s={initTrails:function(e){return function(){var e=new r({outFields:["*"],where:"1=1",returnGeometry:!0,outSpatialReference:{wkid:4326}});return new a({url:i.default.data.trailsServiceUrl}).execute(e)}().then(function(t){e.trails=t.features.map(function(t){return new o.default(t,e)})}).catch(function(e){console.log(e)})}};t.default=s},function(e,t){e.exports=b},function(e,t){e.exports=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e,t){this.geometry=e.geometry,this.state=t;var n=i.default.data.trailAttributes;for(var r in n)this[r]=e.attributes[n[r]]};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(1),a=n(37),o=n(42),s=n(46),l=n(4);n(48);var c=function(){function e(e){var t=this,n=e.trails;this.state=e,this.container=document.querySelector(".menuPanel");var c={selectionPanel:new o.default(n,e),detailPanel:new a.default(n,e),basemapPanel:new s.default(e)};this.initVisiblePanel(c),e.watch("visiblePanel",function(e,t){document.querySelector('[data-tab="'+e+'"]').classList.add("active"),c[e].container.style.display="block",document.querySelector('[data-tab="'+t+'"]').classList.remove("active"),c[t].container.style.display="none"}),i(document.querySelector(".menuTabs"),"click",function(e){t.state.visiblePanel=e.target.dataset.tab}),i(document.querySelector("#home"),"click",function(e){var n=t.state.view;n.map instanceof l&&(n.goTo(n.map.initialViewProperties.viewpoint),t.state.selectedTrailId=null)}),i(r.byId("about"),"click",function(){r.byId("credentialsPanel").style.display="inline"}),i(r.byId("close"),"click",function(){r.byId("credentialsPanel").style.display="none"}),e.watch("device",function(){"mobilePortrait"===t.state.device?(t.state.visiblePanel="detailPanel",t.state.selectedTrailId?t.container.style.display="flex":t.container.style.display="none"):(t.state.selectedTrailId||(t.state.visiblePanel="selectionPanel"),t.container.style.display="flex")}),e.watch("selectedTrailId",function(){"mobilePortrait"===t.state.device&&(t.state.selectedTrailId?t.container.style.display="flex":t.container.style.display="none")}),i(document.querySelector("#details"),"click",function(e){var n=t.container.style.display;console.log(n),t.container.style.display="none"===n||""===n?"flex":"none"})}return e.prototype.initVisiblePanel=function(e){"mobilePortrait"===this.state.device?this.state.visiblePanel="detailPanel":this.state.visiblePanel="selectionPanel",e[this.state.visiblePanel].container.style.display="block"},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(38),r=n(1),a=n(2),o=n(0);n(39),n(40);var s=n(41),l=function(){function e(e,t){var n=this;this.state=t,this.trails=e,this.container=r.byId("detailPanel"),this.detailTitle=r.byId("detailTitle"),this.detailInfograph=r.byId("detailInfograph"),this.detailDescription=r.byId("detailDescription"),this.detailElevationProfile=r.byId("detailElevationProfile"),this.emptyDetails(),t.watch("selectedTrailId",function(e){if(n.emptyDetails(),n.elevationProfile&&(n.elevationProfile.destroy(),n.elevationProfile=null),e){var t=n.state.selectedTrail;n.displayInfo(t),a.empty(n.detailElevationProfile);var r=a.create("div",{});n.detailElevationProfile.append(r),n.elevationProfile=new i({view:n.state.view,input:t,container:r,profiles:[new s({title:"Trail statistics",color:o.default.colors.selectedTrail})],visibleElements:{selectButton:!1,sketchButton:!1}})}}),t.watch("device",function(){n.state.selectedTrailId||n.displayAppInfo()})}return e.prototype.emptyDetails=function(){a.empty(this.detailTitle),a.empty(this.detailDescription),a.empty(this.detailInfograph),a.empty(this.detailElevationProfile),this.displayAppInfo()},e.prototype.displayAppInfo=function(){"mobilePortrait"===this.state.device?this.detailInfograph.innerHTML="This app shows the hikes in the Swiss National Park. Select a hike on the map to find out more about it.":this.detailInfograph.innerHTML="Select a hike in the map or in the Hikes panel to see more details about it."},e.prototype.displayInfo=function(e){this.detailTitle.innerHTML=e.name,this.createInfograph(e),this.detailDescription.innerHTML="<b>Particularities: </b> "+e.description},e.prototype.createInfograph=function(e){var t={Closed:{icon:"fa fa-calendar-times-o",text:"Closed"},Open:{icon:"fa fa-calendar-check-o",text:"Open"}};this.detailInfograph.innerHTML="\n      "+(e.ascent?'<span class="infograph"><span class="fa fa-line-chart" aria-hidden="true"></span> '+e.ascent+" m</span>":"")+"\n      "+(e.difficulty?'<span class="infograph"><span class="fa fa-wrench" aria-hidden="true"></span> '+e.difficulty+"</span>":"")+"\n      "+(e.walktime?'<span class="infograph"><span class="fa fa-clock-o" aria-hidden="true"></span> '+e.walktime+" hr</span>":"")+"\n      "+(e.status?'<span class="infograph"><span class="'+t[e.status].icon+'" aria-hidden="true"></span> '+t[e.status].text+"</span>":"")+"\n    "},e}();t.default=l},function(e,t){e.exports=S},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),a=n(2),o=n(0),s=n(43);n(44),n(45);var l=function(){function e(e,t){var n=this;this.state=t,this.trails=e,this.container=i.byId("selectionPanel"),this.trailsPanel=i.byId("trailsPanel"),this.generateTrailsPanel(),r(document.querySelector(".removeSelected"),"click",function(e){n.state.setSelectedTrail(null)}),this.filterPanel=i.byId("filterPanel"),this.generateFilterPanel(),t.watch("selectedTrailId",function(e){document.querySelector(".selected")&&document.querySelector(".selected").classList.remove("selected"),e?(document.querySelector('[data-id ="'+e+'"]').classList.add("selected"),document.querySelector(".removeSelected").removeAttribute("disabled")):document.querySelector(".removeSelected").setAttribute("disabled","")}),t.watch("filters",function(e){var t=n.getFilteredTrails(e).map(function(e){return e.id});n.state.setFilteredTrailIds(t)}),t.watch("filteredTrailIds",function(e){n.updateVisibleTrails(e)})}return e.prototype.getFilteredTrails=function(e){return this.trails.filter(function(t){var n=!0;for(var i in e)if(Array.isArray(e[i])){if(t[i]<e[i][0]||t[i]>e[i][1]){n=!1;break}}else if("All"!==e[i]&&t[i].toString()!==e[i]){n=!1;break}return n})},e.prototype.updateVisibleTrails=function(e){var t=document.querySelectorAll(".trail");[].forEach.call(t,function(t){-1===e.indexOf(parseInt(t.dataset.id,10))?t.classList.add("disabled"):t.classList.remove("disabled")})},e.prototype.generateTrailsPanel=function(){var e=this,t=this.state;this.trails.forEach(function(n){var i=a.create("div",{innerHTML:n.name,"data-difficulty":n.difficulty,"data-id":n.id,"data-category":n.category,"data-walktime":n.walktime,"data-status":n.status,"data-ascent":n.ascent,class:"trail"},e.trailsPanel);r(i,"click",function(e){t.setSelectedTrail(parseInt(e.target.dataset.id,10))})})},e.prototype.generateFilterPanel=function(){this.generateSingleChoiceFilters(),this.generateRangeFilters()},e.prototype.generateSingleChoiceFilters=function(){for(var e=this,t=0,n=o.default.data.filterOptions.singleChoice;t<n.length;t++){var i=n[t],s=this.getUniqueValues(i),l=i.charAt(0).toUpperCase()+i.slice(1);a.create("div",{innerHTML:l,class:"filter-category"},this.filterPanel);for(var c=a.create("span",{class:"radio-group"},this.filterPanel),u=0;u<s.length;u++){var d=0===u?"checked":"",f=i+"-"+s[u],p='<input type="radio" id="'+f+'" name='+i+" "+d+'/><label for="'+f+'" data-group="'+i+'" data-option="'+s[u]+'">'+s[u]+"</label>";c.innerHTML+=p}this.state.setFilter(i,"All"),r(c,"click",function(t){var n=t.target;"label"===n.localName&&e.state.setFilter(n.dataset.group,n.dataset.option)})}},e.prototype.getUniqueValues=function(e){var t=["All"];return this.trails.forEach(function(n){-1===t.indexOf(n[e])&&t.push(n[e])}),t},e.prototype.generateRangeFilters=function(){for(var e=o.default.data.filterOptions.range,t=this.state,n=function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);a.create("div",{innerHTML:n,class:"filter-category"},i.filterPanel);var r=i.getExtremes(e),o="",l=1;switch(e){case"walktime":o="hrs",l=1;break;case"ascent":o="m",l=50}a.create("span",{innerHTML:r.min+" "+o},i.filterPanel);var c=a.create("div",{class:"range-slider","data-group":e},i.filterPanel),u={to:function(e){return parseInt(e,10)+" "+o},from:function(e){return parseInt(e,10)+" "+o}};s.create(c,{start:[r.min,r.max],range:{min:r.min,max:r.max},connect:!0,step:l,tooltips:[u,u]}),t.setFilter(e,[r.min,r.max]),c.noUiSlider.on("end",function(e){t.setFilter(this.target.dataset.group,e)}),a.create("span",{innerHTML:r.max+" "+o},i.filterPanel)},i=this,r=0,l=e;r<l.length;r++)n(l[r])},e.prototype.getExtremes=function(e){var t=1e3,n=0;return this.trails.forEach(function(i){null!==i[e]&&(i[e]<t&&(t=i[e]),i[e]>n&&(n=i[e]))}),{min:t,max:n}},e}();t.default=l},function(e,t,n){var i,r;/*! nouislider - 13.1.4 - 3/20/2019 */void 0===(r="function"==typeof(i=function(){"use strict";var e="13.1.4";function t(e){e.parentElement.removeChild(e)}function n(e){return null!==e&&void 0!==e}function i(e){e.preventDefault()}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function a(e,t,n){n>0&&(c(e,t),setTimeout(function(){u(e,t)},n))}function o(e){return Math.max(Math.min(e,100),0)}function s(e){return Array.isArray(e)?e:[e]}function l(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function f(e,t){return 100/(t-e)}function p(e,t){return 100*t/(e[1]-e[0])}function h(e,t){for(var n=1;e>=t[n];)n+=1;return n}function m(t,n,i){var a;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' contains invalid value.");if(!r(a="min"===t?0:"max"===t?100:parseFloat(t))||!r(n[0]))throw new Error("noUiSlider ("+e+"): 'range' value isn't numeric.");i.xPct.push(a),i.xVal.push(n[0]),a?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function v(e,t,n){if(t)if(n.xVal[e]!==n.xVal[e+1]){n.xSteps[e]=p([n.xVal[e],n.xVal[e+1]],t)/f(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),a=n.xVal[e]+n.xNumSteps[e]*r;n.xHighestCompleteStep[e]=a}else n.xSteps[e]=n.xHighestCompleteStep[e]=n.xVal[e]}function g(e,t,n){var i;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var r=[];for(i in e)e.hasOwnProperty(i)&&r.push([e[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),i=0;i<r.length;i++)m(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)v(i,this.xNumSteps[i],this)}g.prototype.getMargin=function(t){var n=this.xNumSteps[0];if(n&&t/n%1!=0)throw new Error("noUiSlider ("+e+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&p(this.xVal,t)},g.prototype.toStepping=function(e){return function(e,t,n){if(n>=e.slice(-1)[0])return 100;var i=h(n,e),r=e[i-1],a=e[i],o=t[i-1],s=t[i];return o+function(e,t){return p(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([r,a],n)/f(o,s)}(this.xVal,this.xPct,e)},g.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var i=h(n,t),r=e[i-1],a=e[i],o=t[i-1],s=t[i];return function(e,t){return(n-o)*f(o,s)*(e[1]-e[0])/100+e[0]}([r,a])}(this.xVal,this.xPct,e)},g.prototype.getStep=function(e){return function(e,t,n,i){if(100===i)return i;var r=h(i,e),a=e[r-1],o=e[r];return n?i-a>(o-a)/2?o:a:t[r-1]?e[r-1]+function(e,t){return Math.round(e/t)*t}(i-e[r-1],t[r-1]):i}(this.xPct,this.xSteps,this.snap,e)},g.prototype.getDefaultStep=function(e,t,n){var i=h(e,this.xPct);return(100===e||t&&e===this.xPct[i-1])&&(i=Math.max(i-1,1)),(this.xVal[i]-this.xVal[i-1])/n},g.prototype.getNearbySteps=function(e){var t=h(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},g.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(l);return Math.max.apply(null,e)},g.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var y={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function b(t){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(t))return!0;throw new Error("noUiSlider ("+e+"): 'format' requires 'to' and 'from' methods.")}function w(t,n){if(!r(n))throw new Error("noUiSlider ("+e+"): 'step' is not numeric.");t.singleStep=n}function S(t,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+e+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+e+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new g(n,t.snap,t.singleStep)}function x(t,n){if(n=s(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+e+"): 'start' option is incorrect.");t.handles=n.length,t.start=n}function P(t,n){if(t.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'snap' option must be a boolean.")}function E(t,n){if(t.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'animate' option must be a boolean.")}function C(t,n){if(t.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+e+"): 'animationDuration' option must be a number.")}function T(t,n){var i,r=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(i=1;i<t.handles;i++)r.push(n);r.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==t.handles+1)throw new Error("noUiSlider ("+e+"): 'connect' option doesn't match handle count.");r=n}t.connect=r}function L(t,n){switch(n){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+e+"): 'orientation' option is invalid.")}}function I(t,n){if(!r(n))throw new Error("noUiSlider ("+e+"): 'margin' option must be numeric.");if(0!==n&&(t.margin=t.spectrum.getMargin(n),!t.margin))throw new Error("noUiSlider ("+e+"): 'margin' option is only supported on linear sliders.")}function k(t,n){if(!r(n))throw new Error("noUiSlider ("+e+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit||t.handles<2)throw new Error("noUiSlider ("+e+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function M(t,n){if(!r(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!r(n[0])&&!r(n[1]))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){if(Array.isArray(n)||(n=[n,n]),t.padding=[t.spectrum.getMargin(n[0]),t.spectrum.getMargin(n[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider ("+e+"): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider ("+e+"): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>=100)throw new Error("noUiSlider ("+e+"): 'padding' option must not exceed 100% of the range.")}}function O(t,n){switch(n){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+e+"): 'direction' option was not recognized.")}}function A(t,n){if("string"!=typeof n)throw new Error("noUiSlider ("+e+"): 'behaviour' must be a string containing options.");var i=n.indexOf("tap")>=0,r=n.indexOf("drag")>=0,a=n.indexOf("fixed")>=0,o=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,l=n.indexOf("unconstrained")>=0;if(a){if(2!==t.handles)throw new Error("noUiSlider ("+e+"): 'fixed' behaviour must be used with 2 handles");I(t,t.start[1]-t.start[0])}if(l&&(t.margin||t.limit))throw new Error("noUiSlider ("+e+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||o,drag:r,fixed:a,snap:o,hover:s,unconstrained:l}}function N(t,n){if(!1!==n)if(!0===n){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=s(n),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+e+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+e+"): 'tooltips' must be passed a formatter or 'false'.")})}}function V(e,t){e.ariaFormat=t,b(t)}function U(e,t){e.format=t,b(t)}function _(t,n){if(t.keyboardSupport=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'keyboardSupport' option must be a boolean.")}function j(e,t){e.documentElement=t}function F(t,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+e+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=n}function H(t,n){if("object"!=typeof n)throw new Error("noUiSlider ("+e+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},n)n.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+n[i]);else t.cssClasses=n}function D(t){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:y,format:y},r={step:{r:!1,t:w},start:{r:!0,t:x},connect:{r:!0,t:T},direction:{r:!0,t:O},snap:{r:!1,t:P},animate:{r:!1,t:E},animationDuration:{r:!1,t:C},range:{r:!0,t:S},orientation:{r:!1,t:L},margin:{r:!1,t:I},limit:{r:!1,t:k},padding:{r:!1,t:M},behaviour:{r:!0,t:A},ariaFormat:{r:!1,t:V},format:{r:!1,t:U},tooltips:{r:!1,t:N},keyboardSupport:{r:!0,t:_},documentElement:{r:!1,t:j},cssPrefix:{r:!0,t:F},cssClasses:{r:!0,t:H}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(r).forEach(function(o){if(!n(t[o])&&void 0===a[o]){if(r[o].r)throw new Error("noUiSlider ("+e+"): '"+o+"' is required.");return!0}r[o].t(i,n(t[o])?t[o]:a[o])}),i.pips=t.pips;var o=document.createElement("div"),s=void 0!==o.style.msTransform,l=void 0!==o.style.transform;return i.transformRule=l?"transform":s?"msTransform":"webkitTransform",i.style=[["left","top"],["right","bottom"]][i.dir][i.ort],i}function q(n,r,l){var f,p,h,m,v,g,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},b=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),w=n,S=r.spectrum,x=[],P=[],E=[],C=0,T={},L=n.ownerDocument,I=r.documentElement||L.documentElement,k=L.body,M=-1,O=0,A=1,N=2,V="rtl"===L.dir||1===r.ort?0:100;function U(e,t){var n=L.createElement("div");return t&&c(n,t),e.appendChild(n),n}function _(e,t){var n=U(e,r.cssClasses.origin),i=U(n,r.cssClasses.handle);return U(i,r.cssClasses.touchArea),i.setAttribute("data-handle",t),r.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",function(e){return function(e,t){if(H()||q(t))return!1;var n=["Left","Right"],i=["Down","Up"];r.dir&&!r.ort?n.reverse():r.ort&&!r.dir&&i.reverse();var a=e.key.replace("Arrow",""),o=a===i[0]||a===n[0],s=a===i[1]||a===n[1];if(!o&&!s)return!0;e.preventDefault();var l=o?0:1,c=ve(t)[l];return null!==c&&(!1===c&&(c=S.getDefaultStep(P[t],o,10)),c=Math.max(c,1e-7),c*=o?-1:1,he(t,x[t]+c,!0),!1)}(e,t)})),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?c(i,r.cssClasses.handleLower):t===r.handles-1&&c(i,r.cssClasses.handleUpper),n}function j(e,t){return!!t&&U(e,r.cssClasses.connect)}function F(e,t){return!!r.tooltips[t]&&U(e.firstChild,r.cssClasses.tooltip)}function H(){return w.hasAttribute("disabled")}function q(e){return p[e].hasAttribute("disabled")}function z(){v&&(ie("update.tooltips"),v.forEach(function(e){e&&t(e)}),v=null)}function R(){z(),v=p.map(F),ne("update.tooltips",function(e,t,n){if(v[t]){var i=e[t];!0!==r.tooltips[t]&&(i=r.tooltips[t].to(n[t])),v[t].innerHTML=i}})}function B(e,t,n){var i=L.createElement("div"),a=[];a[O]=r.cssClasses.valueNormal,a[A]=r.cssClasses.valueLarge,a[N]=r.cssClasses.valueSub;var o=[];o[O]=r.cssClasses.markerNormal,o[A]=r.cssClasses.markerLarge,o[N]=r.cssClasses.markerSub;var s=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],l=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function u(e,t){var n=t===r.cssClasses.value,i=n?a:o;return t+" "+(n?s:l)[r.ort]+" "+i[e]}return c(i,r.cssClasses.pips),c(i,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(a){!function(e,a,o){if((o=t?t(a,o):o)!==M){var s=U(i,!1);s.className=u(o,r.cssClasses.marker),s.style[r.style]=e+"%",o>O&&((s=U(i,!1)).className=u(o,r.cssClasses.value),s.setAttribute("data-value",a),s.style[r.style]=e+"%",s.innerHTML=n.to(a))}}(a,e[a][0],e[a][1])}),i}function W(){m&&(t(m),m=null)}function Y(t){W();var n=t.mode,i=t.density||1,r=t.filter||!1,a=function(t,n,i){if("range"===t||"steps"===t)return S.xVal;if("count"===t){if(n<2)throw new Error("noUiSlider ("+e+"): 'values' (>= 2) required for mode 'count'.");var r=n-1,a=100/r;for(n=[];r--;)n[r]=r*a;n.push(100),t="positions"}return"positions"===t?n.map(function(e){return S.fromStepping(i?S.getStep(e):e)}):"values"===t?i?n.map(function(e){return S.fromStepping(S.getStep(S.toStepping(e)))}):n:void 0}(n,t.values||!1,t.stepped||!1),o=function(e,t,n){function i(e,t){return(e+t).toFixed(7)/1}var r={},a=S.xVal[0],o=S.xVal[S.xVal.length-1],s=!1,l=!1,c=0;return(n=function(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}(n.slice().sort(function(e,t){return e-t})))[0]!==a&&(n.unshift(a),s=!0),n[n.length-1]!==o&&(n.push(o),l=!0),n.forEach(function(a,o){var u,d,f,p,h,m,v,g,y,b,w=a,x=n[o+1],P="steps"===t;if(P&&(u=S.xNumSteps[o]),u||(u=x-w),!1!==w&&void 0!==x)for(u=Math.max(u,1e-7),d=w;d<=x;d=i(d,u)){for(g=(h=(p=S.toStepping(d))-c)/e,b=h/(y=Math.round(g)),f=1;f<=y;f+=1)r[(m=c+f*b).toFixed(5)]=[S.fromStepping(m),0];v=n.indexOf(d)>-1?A:P?N:O,!o&&s&&(v=0),d===x&&l||(r[p.toFixed(5)]=[d,v]),c=p}}),r}(i,n,a),s=t.format||{to:Math.round};return m=w.appendChild(B(o,r,s))}function X(){var e=f.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||f[t]:e.height||f[t]}function G(e,t,n,i){var a=function(a){return!!(a=function(e,t,n){var i,r,a=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(s=!0),a){var l=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;i=c[0].pageX,r=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;i=u.pageX,r=u.pageY}}return t=t||d(L),(o||s)&&(i=e.clientX+t.x,r=e.clientY+t.y),e.pageOffset=t,e.points=[i,r],e.cursor=o||s,e}(a,i.pageOffset,i.target||t))&&!(H()&&!i.doNotReject)&&!(function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(w,r.cssClasses.tap)&&!i.doNotReject)&&!(e===y.start&&void 0!==a.buttons&&a.buttons>1)&&(!i.hover||!a.buttons)&&(b||a.preventDefault(),a.calcPoint=a.points[r.ort],void n(a,i))},o=[];return e.split(" ").forEach(function(e){t.addEventListener(e,a,!!b&&{passive:!0}),o.push([e,a])}),o}function Q(e){var t=100*(e-function(e,t){var n=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,a=d(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),t?n.top+a.y-r.clientTop:n.left+a.x-r.clientLeft}(f,r.ort))/X();return t=o(t),r.dir?100-t:t}function $(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&J(e,t)}function Z(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return J(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);se(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function J(e,t){t.handle&&(u(t.handle,r.cssClasses.active),C-=1),t.listeners.forEach(function(e){I.removeEventListener(e[0],e[1])}),0===C&&(u(w,r.cssClasses.drag),ce(),e.cursor&&(k.style.cursor="",k.removeEventListener("selectstart",i))),t.handleNumbers.forEach(function(e){re("change",e),re("set",e),re("end",e)})}function K(e,t){if(t.handleNumbers.some(q))return!1;var n;1===t.handleNumbers.length&&(n=p[t.handleNumbers[0]].children[0],C+=1,c(n,r.cssClasses.active));e.stopPropagation();var a=[],o=G(y.move,I,Z,{target:e.target,handle:n,listeners:a,startCalcPoint:e.calcPoint,baseSize:X(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:P.slice()}),s=G(y.end,I,J,{target:e.target,handle:n,listeners:a,doNotReject:!0,handleNumbers:t.handleNumbers}),l=G("mouseout",I,$,{target:e.target,handle:n,listeners:a,doNotReject:!0,handleNumbers:t.handleNumbers});a.push.apply(a,o.concat(s,l)),e.cursor&&(k.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&c(w,r.cssClasses.drag),k.addEventListener("selectstart",i,!1)),t.handleNumbers.forEach(function(e){re("start",e)})}function ee(e){e.stopPropagation();var t=Q(e.calcPoint),n=function(e){var t=100,n=!1;return p.forEach(function(i,r){if(!q(r)){var a=Math.abs(P[r]-e);(a<t||100===a&&100===t)&&(n=r,t=a)}}),n}(t);if(!1===n)return!1;r.events.snap||a(w,r.cssClasses.tap,r.animationDuration),ue(n,t,!0,!0),ce(),re("slide",n,!0),re("update",n,!0),re("change",n,!0),re("set",n,!0),r.events.snap&&K(e,{handleNumbers:[n]})}function te(e){var t=Q(e.calcPoint),n=S.getStep(t),i=S.fromStepping(n);Object.keys(T).forEach(function(e){"hover"===e.split(".")[0]&&T[e].forEach(function(e){e.call(g,i)})})}function ne(e,t){T[e]=T[e]||[],T[e].push(t),"update"===e.split(".")[0]&&p.forEach(function(e,t){re("update",t)})}function ie(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(T).forEach(function(e){var i=e.split(".")[0],r=e.substring(i.length);t&&t!==i||n&&n!==r||delete T[e]})}function re(e,t,n){Object.keys(T).forEach(function(i){var a=i.split(".")[0];e===a&&T[i].forEach(function(e){e.call(g,x.map(r.format.to),t,x.slice(),n||!1,P.slice())})})}function ae(e,t,n,i,a,s){return p.length>1&&!r.events.unconstrained&&(i&&t>0&&(n=Math.max(n,e[t-1]+r.margin)),a&&t<p.length-1&&(n=Math.min(n,e[t+1]-r.margin))),p.length>1&&r.limit&&(i&&t>0&&(n=Math.min(n,e[t-1]+r.limit)),a&&t<p.length-1&&(n=Math.max(n,e[t+1]-r.limit))),r.padding&&(0===t&&(n=Math.max(n,r.padding[0])),t===p.length-1&&(n=Math.min(n,100-r.padding[1]))),!((n=o(n=S.getStep(n)))===e[t]&&!s)&&n}function oe(e,t){var n=r.ort;return(n?t:e)+", "+(n?e:t)}function se(e,t,n,i){var r=n.slice(),a=[!e,e],o=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach(function(e,n){var i=ae(r,e,r[e]+t,a[n],o[n],!1);!1===i?t=0:(t=i-r[e],r[e]=i)}):a=o=[!0];var s=!1;i.forEach(function(e,i){s=ue(e,n[e]+t,a[i],o[i])||s}),s&&i.forEach(function(e){re("update",e),re("slide",e)})}function le(e,t){return r.dir?100-e-t:e}function ce(){E.forEach(function(e){var t=P[e]>50?-1:1,n=3+(p.length+t*e);p[e].style.zIndex=n})}function ue(e,t,n,i){return!1!==(t=ae(P,e,t,n,i,!1))&&(function(e,t){P[e]=t,x[e]=S.fromStepping(t);var n="translate("+oe(le(t,0)-V+"%","0")+")";p[e].style[r.transformRule]=n,de(e),de(e+1)}(e,t),!0)}function de(e){if(h[e]){var t=0,n=100;0!==e&&(t=P[e-1]),e!==h.length-1&&(n=P[e]);var i=n-t,a="translate("+oe(le(t,i)+"%","0")+")",o="scale("+oe(i/100,"1")+")";h[e].style[r.transformRule]=a+" "+o}}function fe(e,t){return null===e||!1===e||void 0===e?P[t]:("number"==typeof e&&(e=String(e)),e=r.format.from(e),!1===(e=S.toStepping(e))||isNaN(e)?P[t]:e)}function pe(e,t){var n=s(e),i=void 0===P[0];t=void 0===t||!!t,r.animate&&!i&&a(w,r.cssClasses.tap,r.animationDuration),E.forEach(function(e){ue(e,fe(n[e],e),!0,!1)}),E.forEach(function(e){ue(e,P[e],!0,!0)}),ce(),E.forEach(function(e){re("update",e),null!==n[e]&&t&&re("set",e)})}function he(t,n,i){if(!((t=Number(t))>=0&&t<E.length))throw new Error("noUiSlider ("+e+"): invalid handle number, got: "+t);ue(t,fe(n,t),!0,!0),re("update",t),i&&re("set",t)}function me(){var e=x.map(r.format.to);return 1===e.length?e[0]:e}function ve(e){var t=P[e],n=S.getNearbySteps(t),i=x[e],a=n.thisStep.step,o=null;if(r.snap)return[i-n.stepBefore.startValue||null,n.stepAfter.startValue-i||null];!1!==a&&i+a>n.stepAfter.startValue&&(a=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===t?a=null:0===t&&(o=null);var s=S.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(s))),null!==o&&!1!==o&&(o=Number(o.toFixed(s))),[o,a]}return f=function(e){return c(e,r.cssClasses.target),0===r.dir?c(e,r.cssClasses.ltr):c(e,r.cssClasses.rtl),0===r.ort?c(e,r.cssClasses.horizontal):c(e,r.cssClasses.vertical),U(e,r.cssClasses.base)}(w),function(e,t){var n=U(t,r.cssClasses.connects);p=[],(h=[]).push(j(n,e[0]));for(var i=0;i<r.handles;i++)p.push(_(t,i)),E[i]=i,h.push(j(n,e[i+1]))}(r.connect,f),function(e){e.fixed||p.forEach(function(e,t){G(y.start,e.children[0],K,{handleNumbers:[t]})}),e.tap&&G(y.start,f,ee,{}),e.hover&&G(y.move,f,te,{hover:!0}),e.drag&&h.forEach(function(t,n){if(!1!==t&&0!==n&&n!==h.length-1){var i=p[n-1],a=p[n],o=[t];c(t,r.cssClasses.draggable),e.fixed&&(o.push(i.children[0]),o.push(a.children[0])),o.forEach(function(e){G(y.start,e,K,{handles:[i,a],handleNumbers:[n-1,n]})})}})}(r.events),pe(r.start),r.pips&&Y(r.pips),r.tooltips&&R(),ne("update",function(e,t,n,i,a){E.forEach(function(e){var t=p[e],i=ae(P,e,0,!0,!0,!0),o=ae(P,e,100,!0,!0,!0),s=a[e],l=r.ariaFormat.to(n[e]);i=S.fromStepping(i).toFixed(1),o=S.fromStepping(o).toFixed(1),s=S.fromStepping(s).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",s),t.children[0].setAttribute("aria-valuetext",l)})}),g={destroy:function(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&u(w,r.cssClasses[e]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return E.map(ve)},on:ne,off:ie,get:me,set:pe,setHandle:he,reset:function(e){pe(r.start,e)},__moveHandles:function(e,t,n){se(e,t,P,n)},options:l,updateOptions:function(e,t){var n=me(),i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];i.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var a=D(l);i.forEach(function(t){void 0!==e[t]&&(r[t]=a[t])}),S=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?Y(r.pips):W(),r.tooltips?R():z(),P=[],pe(e.start||n,t)},target:w,removePips:W,removeTooltips:z,pips:Y}}return{__spectrum:g,version:e,create:function(t,n){if(!t||!t.nodeName)throw new Error("noUiSlider ("+e+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+e+"): Slider was already initialized.");var i=q(t,D(n),n);return t.noUiSlider=i,i}}})?i.apply(t,[]):i)||(e.exports=r)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),a=n(2);n(47);var o=function(e){var t=this;this.container=i.byId("basemapPanel"),this.basemapContainer=document.querySelector(".basemaps"),e.view.map.watch("loaded",function(n){n&&e.view.map.layers.filter(function(e){return"Basemap"===e.title}).getItemAt(0).layers.forEach(function(n){var i=n;i.portalItem.watch("loaded",function(o){if(o){var s=a.create("div",{class:"basemapItem",style:"background: url("+i.portalItem.getThumbnailUrl()+") no-repeat center","data-id":n.id,innerHTML:"<div>"+n.title+"</div>"},t.basemapContainer);r(s,"click",function(t){e.currentBasemapId=t.target.dataset.id})}})})})};t.default=o},function(e,t,n){},function(e,t,n){},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!navigator.serviceWorker&&navigator.serviceWorker.register("/hiking-trails-app/sw.js",e)}},e.exports=t.default}])});